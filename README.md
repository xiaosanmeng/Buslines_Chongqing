# Buslines_Chongqing
获取重庆主城常规公交线路的GPS坐标数据。该项目抓取GPS坐标数据的思路如下：
1、利用python selenium 库从 https://chongqing.8684.cn/line2 上抓取重庆市“市区[常规]线路”的数据（只保留每条公交线路的数字编号），并保存为data.json文件（其中包含了重复的元素）；
2、利用js去掉data.json中的重复元素并保存在某个变量中，以便后续使用（注：data.json的内容仍然保持不变）；
3、调用百度地图API的公交检索接口，通过搜索线路关键词寻找线路并得到公交线路的GPS坐标和相关信息数据；
4、这是最关键的一步，因为在百度地图API提供的回调函数中，回调函数的参数及与参数相关变量是不可能赋值给外部变量的，所以只能通过FileSaver.js即时将数据以字符串的形式存储到文本中（项目中存储为json格式），名称取对应线路的名称；
5、第4步能取到绝大多数的公交线路相关信息数据，但仍然有一部分被遗漏了，所以，需要将得到的公交线路json文件通过python获取目前已经取到的公交线路编号并存成buslines_captured.json文件；
6、利用js对比buslines_captured.json和去重后的data.json得出被遗漏的公交线路，然后继续读取并保存这些公交线路信息数据到json文件。
